<div class="container mt-5">
  <h1 class="mb-4 text-center">Tableau de bord Admin</h1>

  <p>Bienvenue, <%= current_user.email %> 👋</p>

  <div class="row mt-4">
    <!-- Section Utilisateurs -->
    <div class="col-md-6">
      <h3>Utilisateurs</h3>
      <ul class="list-group">
        <% @users.each do |user| %>
          <li class="list-group-item">
            <%= user.email %>
            <% if user.admin? %>⭐<% end %>
            <!-- Bouton pour promouvoir/dépromouvoir -->
            <% unless user == current_user %>
              <%= button_to (user.admin? ? "Retirer admin" : "Promouvoir admin"), toggle_admin_user_path(user), method: :patch, class: "btn btn-sm btn-warning ms-2" %>
            <% end %>
          </li>
        <% end %>
      </ul>
    </div>

    <!-- Section Rendez-vous -->
    <div class="col-md-6">
      <h3>Rendez-vous</h3>
      <ul class="list-group">
        <% @appointments.each do |appt| %>
          <li class="list-group-item">
            <strong>Date :</strong> <%= appt.date&.strftime("%d/%m/%Y") || "Non précisée" %> - 
            <strong>Heure :</strong> <%= appt.start_time&.strftime("%H:%M") || "Non précisée" %> 
            (<%= appt.user&.email || "Utilisateur supprimé" %>)
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</div>


